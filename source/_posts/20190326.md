---
title: 随笔-20190326
date: 2019-03-26 14:26:12
tags: 
    - 存储
    - 文件系统
    - 随笔
---

### 一、NAS存储特点（Network Attached Storage 网络直连存储)

NAS(网络附加存储)方式则全面改进了以前低效的DAS存储方式。它采用独立于服务器，单独为网络数据存储而开发的一种文件服务器来连接所存储设备，自形成一个网络。这样数据存储就不再是服务器的附属，而是作为独立网络节点而存在于网络之中，可由所有的网络用户共享。

同时NAS存储真正做到了即插即用，并且部署起来也相对灵活，再加上管理成本低，是目前企业选择较多的，但它同时也有存储性能低和可靠度不高等缺点。

### 二、DAS存储特点（Direct-attached Storage 直连存储）

DAS这种存储方式与我们普通的PC存储架构一样，外部存储设备都是直接挂接在服务器内部总线上，数据存储设备是整个服务器结构的一部份，DAS存储方式主要适用于小型网络、地理位置分散的网络和特殊服务器上。

DAS已经存在了很长时间，并且在很多情况下仍然是一种不错的存储选择。由于这种存储方式在磁盘系统和服务器之间具有很快的传输速率，因此，虽然在一些部门中一些新的SAN设备已经开始取代DAS，但是在要求快速磁盘访问的情况下，DAS仍然是一种理想的选择。更进一步地，在DAS环境中，运转大多数的应用程序都不会存在问题，所以你没有必要担心应用程序问题，从而可以将注意力集中于其他可能会导致问题的领域。

### 三、SAN存储（Storage Area Networking 光纤存储）

SAN存储是基于光纤介质，最大传输速率达17MB/s的服务器访问存储器的一种连接方式，同时SAN也是最昂贵和最复杂的存储选项，SAN存储方式创造了存储的网络化，存储网络化顺应了计算机服务器体系结构网络化的趋势，SAN的支撑技术是光纤通道(FC Fiber Channel)技术，它是ANSI为网络和通道I/O接口建立的一个标准集成，FC技术支持HIPPI、IPI、SCSI、IP、ATM等多种高级协议，其最大特性是将网络和设备的通信协议与传输物理介质隔离开，这样多种协议可在同一个物理连接上同时传送。

如今的SAN解决方案通常会采取以下两种形式：光纤信道以及iSCSI或者基于IP的SAN。光纤信道是SAN解决方案中大家最熟悉的类型，但是，最近一段时间以来，基于iSCSI的SAN解决方案开始大量出现在市场上，与光纤通道技术相比较而言，这种技术具有良好的性能，而且价格低廉。

SAN真正的综合了DAS和NAS两种存储解决方案的优势。例如，在一个很好的SAN解决方案实现中，你可以得到一个完全冗余的存储网络，这个存储网络具有不同寻常的扩展性，确切地说，你可以得到只有NAS存储解决方案才能得到的几百T字节的存储空间，但是你还可以得到块级数据访问功能，而这些功能只能在DAS解决方案中才能得到。对于数据访问来说，你还可以得到一个合理的速度，对于那些要求大量磁盘访问的操作来说，SAN显得具有更好的性能。利用SAN解决方案，你还可以实现存储的集中管理，从而能够充分利用那些处于空闲状态的空间。更有优势的一点是，在某些实现中，你甚至可以将服务器配置为没有内部存储空间的服务器，要求所有的系统都直接从SAN（只能在光纤通道模式下实现）引导。这也是一种即插即用技术。

SAN确实具有这些伟大的优点，那么，SAN的缺陷在哪里？SAN有两个较大的缺陷：成本和复杂性，特别是在光纤信道中这些缺陷尤其明显。使用光纤信道的情况下，合理的成本大约是1TB或者2TB大概需要五万到六万美金。从另一个角度来看，虽然新推出的基于iSCSI的SAN解决方案大约只需要两万到三万美金，但是其性能却无法和光纤信道相比较。在价格上的差别主要是由于iSCSI技术使用的是现在已经大量生产的吉比特以太网硬件，而光纤通道技术要求特定的价格昂贵的设备。

### DAS、NAS和SAN存储的主要区别

从连接方式上对比，DAS采用了存储设备直接连接应用服务器，具有一定的灵活性和限制性；NAS通过网络（TCP/IP,ATM,FDDI）技术连接存储设备和应用服务器，存储设备位置灵活，随着万兆网的出现，传输速率有了很大的提高；SAN则是通过光纤通道（Fibre Channel）技术连接存储设备和应用服务器，具有很好的传输速率和扩展性能。三种存储方式各有优势，相互共存，占到了现在磁盘存储市场的70%以上。

通过这个图表，大家可以一目了然的了解NAS、DAS和SAN存储的区别，在这个图表中，SAN分成iSCSI和光纤通道两种类型，以帮助你区分这两种技术的不同。

| **存储类型**         | **DAS**          | **NAS**                                  | **iSCSI/IP SANs**                                            | **光纤通道**                                                 |
| -------------------- | ---------------- | ---------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 价格                 | 价格较低         | 价格中等                                 | 价格中等到较高                                               | 价格较高                                                     |
| 可扩展性             | 非常有限         | 依赖于解决方案                           | 依赖于解决方案                                               | 依赖于解决方案                                               |
| 可管理性             | 效率较低         | 效率较低                                 | 非常高效                                                     | 非常高效                                                     |
| 容错性               | 一定程度的容错性 | 一定程度的容错性                         | 容错性很好                                                   | 容错性很好                                                   |
| 是否适合文件存储     | 是               | 是                                       | 是                                                           | 是                                                           |
| 是否适合数据库存储   | 是               | 否                                       | 通常适合                                                     | 是                                                           |
| 是否适合网页服务     | 是               | 是                                       | 是                                                           | 是                                                           |
| 是否适合Exchange存储 | 是               | 否                                       | 通常适合                                                     | 是                                                           |
| 安装的简易性         | 简单             | 简单                                     | 有一定的困难                                                 | 非常困难                                                     |
| 灾难恢复的能力       | 没有             | 没有                                     | 很多                                                         | 很多                                                         |
| 操作系统的支持       | 全部             | N/A                                      | Windows, Linux, UNIX, NetWare （其他系统是否支持依赖于驱动器本身） | Windows, Linux, UNIX, NetWare（其他系统是否支持依赖于驱动器本身） |
| 主要提供商           | 任何服务器提供商 | Huawei、IBM, Dell, HP, Network Appliance | Huawei、LeftHand, EMC, HP, IBM, Network，Appliance           | Huawei、IBM, EMC, HP, Network Appliance                      |

